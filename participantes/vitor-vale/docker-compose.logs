
 redis Pulling 
 api01 Pulling 
 api02 Pulling 
 9824c27679d3 Already exists 
 8c59d92d6fc9 Already exists 
 54225bd60196 Already exists 
 a9e48ad1219d Already exists 
 9824c27679d3 Already exists 
 421041ae52f2 Pulling fs layer 
 f499abcb77dd Pulling fs layer 
 f152894b48d7 Pulling fs layer 
 0cd534750e34 Pulling fs layer 
 0cd534750e34 Waiting 
 8c59d92d6fc9 Already exists 
 0368fd46e3c6 Already exists 
 54225bd60196 Already exists 
 1147fd14f118 Pulling fs layer 
 c84d4cdd9472 Pulling fs layer 
 8bd848d5ea7d Pulling fs layer 
 c3d8e503b0aa Pulling fs layer 
 bb9fdeb5b490 Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 500a2efb6d53 Pulling fs layer 
 c3d8e503b0aa Waiting 
 bb9fdeb5b490 Waiting 
 1147fd14f118 Waiting 
 4f4fb700ef54 Waiting 
 c84d4cdd9472 Waiting 
 8bd848d5ea7d Waiting 
 500a2efb6d53 Waiting 
 a9e48ad1219d Already exists 
 421041ae52f2 Pulling fs layer 
 f499abcb77dd Pulling fs layer 
 f152894b48d7 Pulling fs layer 
 0cd534750e34 Pulling fs layer 
 0cd534750e34 Waiting 
 421041ae52f2 Download complete 
 421041ae52f2 Downloading [==================================================>]      92B/92B
 421041ae52f2 Download complete 
 421041ae52f2 Extracting [==================================================>]      92B/92B
 421041ae52f2 Extracting [==================================================>]      92B/92B
 421041ae52f2 Extracting [==================================================>]      92B/92B
 421041ae52f2 Extracting [==================================================>]      92B/92B
 421041ae52f2 Pull complete 
 421041ae52f2 Pull complete 
 f499abcb77dd Downloading [=======>                                           ]  16.38kB/104.8kB
 f499abcb77dd Downloading [=======>                                           ]  16.38kB/104.8kB
 f499abcb77dd Downloading [==================================================>]  104.8kB/104.8kB
 f499abcb77dd Verifying Checksum 
 f499abcb77dd Download complete 
 f499abcb77dd Verifying Checksum 
 f499abcb77dd Download complete 
 f499abcb77dd Extracting [===============>                                   ]  32.77kB/104.8kB
 f499abcb77dd Extracting [===============>                                   ]  32.77kB/104.8kB
 f499abcb77dd Extracting [==================================================>]  104.8kB/104.8kB
 f499abcb77dd Extracting [==================================================>]  104.8kB/104.8kB
 0cd534750e34 Downloading [=============>                                     ]  16.38kB/61.01kB
 0cd534750e34 Downloading [=============>                                     ]  16.38kB/61.01kB
 0cd534750e34 Download complete 
 0cd534750e34 Download complete 
 f499abcb77dd Pull complete 
 f499abcb77dd Pull complete 
 1147fd14f118 Downloading [==================================================>]     950B/950B
 1147fd14f118 Verifying Checksum 
 1147fd14f118 Download complete 
 1147fd14f118 Extracting [==================================================>]     950B/950B
 1147fd14f118 Extracting [==================================================>]     950B/950B
 f152894b48d7 Downloading [>                                                  ]  172.5kB/16.13MB
 f152894b48d7 Downloading [>                                                  ]  172.5kB/16.13MB
 1147fd14f118 Pull complete 
 c84d4cdd9472 Downloading [====>                                              ]  16.38kB/173.2kB
 c84d4cdd9472 Downloading [==================================================>]  173.2kB/173.2kB
 c84d4cdd9472 Verifying Checksum 
 c84d4cdd9472 Download complete 
 c84d4cdd9472 Extracting [=========>                                         ]  32.77kB/173.2kB
 c84d4cdd9472 Extracting [==================================================>]  173.2kB/173.2kB
 8bd848d5ea7d Downloading [>                                                  ]  16.38kB/1.003MB
 c84d4cdd9472 Extracting [==================================================>]  173.2kB/173.2kB
 8bd848d5ea7d Downloading [==================================================>]  1.003MB/1.003MB
 8bd848d5ea7d Verifying Checksum 
 8bd848d5ea7d Download complete 
 f152894b48d7 Verifying Checksum 
 f152894b48d7 Download complete 
 f152894b48d7 Download complete 
 f152894b48d7 Extracting [>                                                  ]  163.8kB/16.13MB
 f152894b48d7 Extracting [>                                                  ]  163.8kB/16.13MB
 bb9fdeb5b490 Downloading [==================================================>]     100B/100B
 bb9fdeb5b490 Verifying Checksum 
 bb9fdeb5b490 Download complete 
 4f4fb700ef54 Downloading [==================================================>]      32B/32B
 4f4fb700ef54 Verifying Checksum 
 4f4fb700ef54 Download complete 
 c3d8e503b0aa Downloading [>                                                  ]  87.24kB/7.599MB
 500a2efb6d53 Downloading [==================================================>]     574B/574B
 500a2efb6d53 Verifying Checksum 
 500a2efb6d53 Download complete 
 c3d8e503b0aa Verifying Checksum 
 c3d8e503b0aa Download complete 
 f152894b48d7 Extracting [=>                                                 ]  327.7kB/16.13MB
 f152894b48d7 Extracting [=>                                                 ]  327.7kB/16.13MB
 c84d4cdd9472 Pull complete 
 8bd848d5ea7d Extracting [=>                                                 ]  32.77kB/1.003MB
 8bd848d5ea7d Extracting [==================================================>]  1.003MB/1.003MB
 8bd848d5ea7d Extracting [==================================================>]  1.003MB/1.003MB
 8bd848d5ea7d Pull complete 
 c3d8e503b0aa Extracting [>                                                  ]   98.3kB/7.599MB
 f152894b48d7 Extracting [=>                                                 ]  491.5kB/16.13MB
 f152894b48d7 Extracting [=>                                                 ]  491.5kB/16.13MB
 c3d8e503b0aa Extracting [==================>                                ]  2.753MB/7.599MB
 c3d8e503b0aa Extracting [==================================================>]  7.599MB/7.599MB
 c3d8e503b0aa Pull complete 
 bb9fdeb5b490 Extracting [==================================================>]     100B/100B
 bb9fdeb5b490 Extracting [==================================================>]     100B/100B
 bb9fdeb5b490 Pull complete 
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Pull complete 
 500a2efb6d53 Extracting [==================================================>]     574B/574B
 500a2efb6d53 Extracting [==================================================>]     574B/574B
 500a2efb6d53 Pull complete 
 redis Pulled 
 f152894b48d7 Extracting [==>                                                ]  655.4kB/16.13MB
 f152894b48d7 Extracting [==>                                                ]  655.4kB/16.13MB
 f152894b48d7 Extracting [==>                                                ]  819.2kB/16.13MB
 f152894b48d7 Extracting [==>                                                ]  819.2kB/16.13MB
 f152894b48d7 Extracting [===>                                               ]  1.147MB/16.13MB
 f152894b48d7 Extracting [===>                                               ]  1.147MB/16.13MB
 f152894b48d7 Extracting [======>                                            ]  1.966MB/16.13MB
 f152894b48d7 Extracting [======>                                            ]  1.966MB/16.13MB
 f152894b48d7 Extracting [=======>                                           ]  2.294MB/16.13MB
 f152894b48d7 Extracting [=======>                                           ]  2.294MB/16.13MB
 f152894b48d7 Extracting [========>                                          ]  2.621MB/16.13MB
 f152894b48d7 Extracting [========>                                          ]  2.621MB/16.13MB
 f152894b48d7 Extracting [========>                                          ]  2.785MB/16.13MB
 f152894b48d7 Extracting [========>                                          ]  2.785MB/16.13MB
 f152894b48d7 Extracting [==========>                                        ]  3.277MB/16.13MB
 f152894b48d7 Extracting [==========>                                        ]  3.277MB/16.13MB
 f152894b48d7 Extracting [===========>                                       ]  3.768MB/16.13MB
 f152894b48d7 Extracting [===========>                                       ]  3.768MB/16.13MB
 f152894b48d7 Extracting [=============>                                     ]   4.26MB/16.13MB
 f152894b48d7 Extracting [=============>                                     ]   4.26MB/16.13MB
 f152894b48d7 Extracting [=============>                                     ]  4.424MB/16.13MB
 f152894b48d7 Extracting [=============>                                     ]  4.424MB/16.13MB
 f152894b48d7 Extracting [=================>                                 ]  5.571MB/16.13MB
 f152894b48d7 Extracting [=================>                                 ]  5.571MB/16.13MB
 f152894b48d7 Extracting [===================>                               ]  6.226MB/16.13MB
 f152894b48d7 Extracting [===================>                               ]  6.226MB/16.13MB
 f152894b48d7 Extracting [====================>                              ]  6.717MB/16.13MB
 f152894b48d7 Extracting [====================>                              ]  6.717MB/16.13MB
 f152894b48d7 Extracting [======================>                            ]  7.209MB/16.13MB
 f152894b48d7 Extracting [======================>                            ]  7.209MB/16.13MB
 f152894b48d7 Extracting [======================>                            ]  7.373MB/16.13MB
 f152894b48d7 Extracting [======================>                            ]  7.373MB/16.13MB
 f152894b48d7 Extracting [=======================>                           ]  7.537MB/16.13MB
 f152894b48d7 Extracting [=======================>                           ]  7.537MB/16.13MB
 f152894b48d7 Extracting [========================>                          ]  7.864MB/16.13MB
 f152894b48d7 Extracting [========================>                          ]  7.864MB/16.13MB
 f152894b48d7 Extracting [=========================>                         ]  8.192MB/16.13MB
 f152894b48d7 Extracting [=========================>                         ]  8.192MB/16.13MB
 f152894b48d7 Extracting [==========================>                        ]   8.52MB/16.13MB
 f152894b48d7 Extracting [==========================>                        ]   8.52MB/16.13MB
 f152894b48d7 Extracting [======================================>            ]  12.45MB/16.13MB
 f152894b48d7 Extracting [======================================>            ]  12.45MB/16.13MB
 f152894b48d7 Extracting [==================================================>]  16.13MB/16.13MB
 f152894b48d7 Extracting [==================================================>]  16.13MB/16.13MB
 f152894b48d7 Pull complete 
 f152894b48d7 Pull complete 
 0cd534750e34 Extracting [==========================>                        ]  32.77kB/61.01kB
 0cd534750e34 Extracting [==========================>                        ]  32.77kB/61.01kB
 0cd534750e34 Extracting [==================================================>]  61.01kB/61.01kB
 0cd534750e34 Extracting [==================================================>]  61.01kB/61.01kB
 0cd534750e34 Pull complete 
 0cd534750e34 Pull complete 
 api01 Pulled 
 api02 Pulled 
 Network vitor-vale_backend  Creating
 Network vitor-vale_backend  Created
 Container vitor-vale-redis-1  Creating
 Container vitor-vale-db-1  Creating
 Container vitor-vale-redis-1  Created
 Container vitor-vale-db-1  Created
 Container vitor-vale-api02-1  Creating
 Container vitor-vale-api01-1  Creating
 Container vitor-vale-api02-1  Created
 Container vitor-vale-api01-1  Created
 Container vitor-vale-nginx-1  Creating
 Container vitor-vale-nginx-1  Created
Attaching to api01-1, api02-1, db-1, nginx-1, redis-1
redis-1  | 1:C 13 Aug 2025 08:15:12.106 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-1  | 1:C 13 Aug 2025 08:15:12.106 # Redis version=6.2.19, bits=64, commit=00000000, modified=0, pid=1, just started
redis-1  | 1:C 13 Aug 2025 08:15:12.106 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
redis-1  | 1:M 13 Aug 2025 08:15:12.107 * monotonic clock: POSIX clock_gettime
redis-1  | 1:M 13 Aug 2025 08:15:12.107 * Running mode=standalone, port=6379.
redis-1  | 1:M 13 Aug 2025 08:15:12.107 # Server initialized
redis-1  | 1:M 13 Aug 2025 08:15:12.107 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-1  | 1:M 13 Aug 2025 08:15:12.107 * Ready to accept connections
db-1     | The files belonging to this database system will be owned by user "postgres".
db-1     | This user must also own the server process.
db-1     | 
db-1     | The database cluster will be initialized with locale "en_US.utf8".
db-1     | The default database encoding has accordingly been set to "UTF8".
db-1     | The default text search configuration will be set to "english".
db-1     | 
db-1     | Data page checksums are disabled.
db-1     | 
db-1     | fixing permissions on existing directory /var/lib/postgresql/data ... ok
db-1     | creating subdirectories ... ok
db-1     | selecting dynamic shared memory implementation ... posix
db-1     | selecting default "max_connections" ... 100
db-1     | selecting default "shared_buffers" ... 128MB
nginx-1  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1  | /docker-entrypoint.sh: Configuration complete; ready for start up
db-1     | selecting default time zone ... UTC
db-1     | creating configuration files ... ok
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +68ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDatabaseModule dependencies initialized[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpModule dependencies initialized[39m[38;5;3m +1ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpModule dependencies initialized[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscoveryModule dependencies initialized[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +3ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +1ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mQueueModule dependencies initialized[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +1ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPaymentsController {/payments}:[39m[38;5;3m +4ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments, POST} route[39m[38;5;3m +3ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPaymentsSummaryController {/payments-summary}:[39m[38;5;3m +0ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments-summary, GET} route[39m[38;5;3m +1ms[39m
api01-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +5ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +67ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDatabaseModule dependencies initialized[39m[38;5;3m +1ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpModule dependencies initialized[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpModule dependencies initialized[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscoveryModule dependencies initialized[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +3ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBullModule dependencies initialized[39m[38;5;3m +1ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mQueueModule dependencies initialized[39m[38;5;3m +1ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPaymentsController {/payments}:[39m[38;5;3m +4ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments, POST} route[39m[38;5;3m +3ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPaymentsSummaryController {/payments-summary}:[39m[38;5;3m +0ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments-summary, GET} route[39m[38;5;3m +1ms[39m
api02-1  | [32m[Nest] 1  - [39m08/13/2025, 8:15:14 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +7ms[39m
db-1     | running bootstrap script ... ok
api01-1  | [31m[Nest] 1  - [39m08/13/2025, 8:15:16 AM [31m  ERROR[39m [38;5;3m[ExceptionsHandler] [39mError: connect ECONNREFUSED 172.21.0.2:5432
api01-1  |     at [90m/app/[39mnode_modules/[4mpg-pool[24m/index.js:45:11
api01-1  | [90m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
api01-1  |     at async DatabaseService.getSummary [90m(/app/[39mdist/database/database.service.js:44:39[90m)[39m
api01-1  |     at async PaymentsSummaryService.getSummary [90m(/app/[39mdist/payments-summary/payments-summary.service.js:22:16[90m)[39m
api01-1  |     at async [90m/app/[39mnode_modules/[4m@nestjs[24m/core/router/router-execution-context.js:46:28
api01-1  |     at async Object.<anonymous> [90m(/app/[39mnode_modules/[4m@nestjs[24m/core/router/router-proxy.js:9:17[90m)[39m {
api01-1  |   errno: [33m-111[39m,
api01-1  |   code: [32m'ECONNREFUSED'[39m,
api01-1  |   syscall: [32m'connect'[39m,
api01-1  |   address: [32m'172.21.0.2'[39m,
api01-1  |   port: [33m5432[39m
api01-1  | }
db-1     | sh: locale: not found
db-1     | 2025-08-13 08:15:16.783 UTC [35] WARNING:  no usable system locales were found
db-1     | performing post-bootstrap initialization ... ok
db-1     | initdb: warning: enabling "trust" authentication for local connections
db-1     | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
db-1     | syncing data to disk ... ok
db-1     | 
db-1     | 
db-1     | Success. You can now start the database server using:
db-1     | 
db-1     |     pg_ctl -D /var/lib/postgresql/data -l logfile start
db-1     | 
db-1     | waiting for server to start....2025-08-13 08:15:20.485 UTC [41] LOG:  starting PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
db-1     | 2025-08-13 08:15:20.489 UTC [41] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1     | 2025-08-13 08:15:20.568 UTC [44] LOG:  database system was shut down at 2025-08-13 08:15:19 UTC
db-1     | 2025-08-13 08:15:20.576 UTC [41] LOG:  database system is ready to accept connections
db-1     |  done
db-1     | server started
db-1     | CREATE DATABASE
db-1     | 
db-1     | 
db-1     | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
db-1     | CREATE TABLE
db-1     | CREATE INDEX
db-1     | 
db-1     | 
db-1     | waiting for server to shut down....2025-08-13 08:15:21.283 UTC [41] LOG:  received fast shutdown request
db-1     | 2025-08-13 08:15:21.287 UTC [41] LOG:  aborting any active transactions
api02-1  | [31m[Nest] 1  - [39m08/13/2025, 8:15:21 AM [31m  ERROR[39m [38;5;3m[ExceptionsHandler] [39mError: connect ECONNREFUSED 172.21.0.2:5432
api02-1  |     at [90m/app/[39mnode_modules/[4mpg-pool[24m/index.js:45:11
api02-1  | [90m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
api02-1  |     at async DatabaseService.getSummary [90m(/app/[39mdist/database/database.service.js:44:39[90m)[39m
api02-1  |     at async PaymentsSummaryService.getSummary [90m(/app/[39mdist/payments-summary/payments-summary.service.js:22:16[90m)[39m
api02-1  |     at async [90m/app/[39mnode_modules/[4m@nestjs[24m/core/router/router-execution-context.js:46:28
api02-1  |     at async Object.<anonymous> [90m(/app/[39mnode_modules/[4m@nestjs[24m/core/router/router-proxy.js:9:17[90m)[39m {
api02-1  |   errno: [33m-111[39m,
api02-1  |   code: [32m'ECONNREFUSED'[39m,
api02-1  |   syscall: [32m'connect'[39m,
api02-1  |   address: [32m'172.21.0.2'[39m,
api02-1  |   port: [33m5432[39m
api02-1  | }
db-1     | 2025-08-13 08:15:21.370 UTC [41] LOG:  background worker "logical replication launcher" (PID 47) exited with exit code 1
db-1     | 2025-08-13 08:15:21.469 UTC [42] LOG:  shutting down
db-1     | 2025-08-13 08:15:21.472 UTC [42] LOG:  checkpoint starting: shutdown immediate
db-1     | 2025-08-13 08:15:21.604 UTC [42] LOG:  checkpoint complete: wrote 927 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.098 s, sync=0.024 s, total=0.136 s; sync files=311, longest=0.004 s, average=0.001 s; distance=4276 kB, estimate=4276 kB; lsn=0/191A310, redo lsn=0/191A310
db-1     | 2025-08-13 08:15:21.668 UTC [41] LOG:  database system is shut down
db-1     |  done
db-1     | server stopped
db-1     | 
db-1     | PostgreSQL init process complete; ready for start up.
db-1     | 
db-1     | 2025-08-13 08:15:21.779 UTC [1] LOG:  starting PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
db-1     | 2025-08-13 08:15:21.779 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
db-1     | 2025-08-13 08:15:21.779 UTC [1] LOG:  listening on IPv6 address "::", port 5432
db-1     | 2025-08-13 08:15:21.785 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1     | 2025-08-13 08:15:21.793 UTC [59] LOG:  database system was shut down at 2025-08-13 08:15:21 UTC
db-1     | 2025-08-13 08:15:21.870 UTC [1] LOG:  database system is ready to accept connections
api01-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 374, totalAmount: 7442.6 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
api02-1  | { totalRequests: 751, totalAmount: 14944.9 }
api02-1  | { totalRequests: 1, totalAmount: 19.9 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 162, totalAmount: 3223.8 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 0, totalAmount: 0 }
redis-1  | 1:M 13 Aug 2025 08:16:13.020 * 10000 changes in 60 seconds. Saving...
redis-1  | 1:M 13 Aug 2025 08:16:13.021 * Background saving started by pid 20
redis-1  | 20:C 13 Aug 2025 08:16:13.317 * DB saved on disk
redis-1  | 20:C 13 Aug 2025 08:16:13.318 * RDB: 1 MB of memory used by copy-on-write
redis-1  | 1:M 13 Aug 2025 08:16:13.324 * Background saving terminated with success
api02-1  | { totalRequests: 0, totalAmount: 0 }
api02-1  | { totalRequests: 0, totalAmount: 0 }
api01-1  | { totalRequests: 9196, totalAmount: 183000.4 }
api01-1  | { totalRequests: 385, totalAmount: 7661.5 }
[Knginx-1 exited with code 0
[Kapi02-1 exited with code 137
[Kapi01-1 exited with code 137
db-1     | 2025-08-13 08:16:44.032 UTC [1] LOG:  received fast shutdown request
redis-1  | 1:signal-handler (1755073004) Received SIGTERM scheduling shutdown...
db-1     | 2025-08-13 08:16:44.036 UTC [1] LOG:  aborting any active transactions
db-1     | 2025-08-13 08:16:44.045 UTC [1] LOG:  background worker "logical replication launcher" (PID 62) exited with exit code 1
db-1     | 2025-08-13 08:16:44.045 UTC [57] LOG:  shutting down
db-1     | 2025-08-13 08:16:44.048 UTC [57] LOG:  checkpoint starting: shutdown immediate
db-1     | 2025-08-13 08:16:44.071 UTC [57] LOG:  checkpoint complete: wrote 287 buffers (1.8%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.008 s, sync=0.004 s, total=0.026 s; sync files=14, longest=0.002 s, average=0.001 s; distance=665 kB, estimate=665 kB; lsn=0/19C0898, redo lsn=0/19C0898
db-1     | 2025-08-13 08:16:44.079 UTC [1] LOG:  database system is shut down
redis-1  | 1:M 13 Aug 2025 08:16:44.085 # User requested shutdown...
redis-1  | 1:M 13 Aug 2025 08:16:44.085 * Saving the final RDB snapshot before exiting.
[Kdb-1 exited with code 0
redis-1  | 1:M 13 Aug 2025 08:16:44.620 * DB saved on disk
redis-1  | 1:M 13 Aug 2025 08:16:44.620 # Redis is now ready to exit, bye bye...
log truncated at line 1000
