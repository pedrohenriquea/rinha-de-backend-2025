
 worker01 Pulling 
 api01 Pulling 
 api02 Pulling 
 c19952135643 Already exists 
 159d19db919f Pulling fs layer 
 b9102aedc8d2 Pulling fs layer 
 395992a1c37a Pulling fs layer 
 a66ada507b72 Pulling fs layer 
 c5e91758c40d Pulling fs layer 
 103793e5b42c Pulling fs layer 
 ab1bb1bcc11c Pulling fs layer 
 a66ada507b72 Waiting 
 c5e91758c40d Waiting 
 103793e5b42c Waiting 
 ab1bb1bcc11c Waiting 
 395992a1c37a Downloading [==================================================>]     184B/184B
 395992a1c37a Verifying Checksum 
 395992a1c37a Download complete 
 159d19db919f Downloading [==================================================>]     293B/293B
 159d19db919f Verifying Checksum 
 159d19db919f Download complete 
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Extracting [==================================================>]     293B/293B
 159d19db919f Pull complete 
 c5e91758c40d Downloading [==================================================>]     138B/138B
 c5e91758c40d Verifying Checksum 
 c5e91758c40d Download complete 
 b9102aedc8d2 Downloading [>                                                  ]  400.6kB/39.49MB
 a66ada507b72 Downloading [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Verifying Checksum 
 a66ada507b72 Download complete 
 103793e5b42c Downloading [==================================================>]      93B/93B
 103793e5b42c Verifying Checksum 
 103793e5b42c Download complete 
 ab1bb1bcc11c Downloading [==================>                                ]  16.38kB/43.73kB
 ab1bb1bcc11c Downloading [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Verifying Checksum 
 ab1bb1bcc11c Download complete 
 b9102aedc8d2 Downloading [==============>                                    ]  11.25MB/39.49MB
 c19952135643 Already exists 
 159d19db919f Already exists 
 b9102aedc8d2 Pulling fs layer 
 395992a1c37a Pulling fs layer 
 a66ada507b72 Pulling fs layer 
 c5e91758c40d Pulling fs layer 
 103793e5b42c Pulling fs layer 
 ab1bb1bcc11c Pulling fs layer 
 ab1bb1bcc11c Download complete 
 395992a1c37a Download complete 
 a66ada507b72 Download complete 
 c5e91758c40d Download complete 
 b9102aedc8d2 Downloading [==============>                                    ]  11.25MB/39.49MB
 103793e5b42c Download complete 
 b9102aedc8d2 Downloading [======================>                            ]   17.8MB/39.49MB
 b9102aedc8d2 Downloading [======================>                            ]   17.8MB/39.49MB
 c19952135643 Already exists 
 159d19db919f Already exists 
 b9102aedc8d2 Pulling fs layer 
 395992a1c37a Pulling fs layer 
 a66ada507b72 Pulling fs layer 
 c5e91758c40d Pulling fs layer 
 103793e5b42c Pulling fs layer 
 b9102aedc8d2 Downloading [======================>                            ]   17.8MB/39.49MB
 ab1bb1bcc11c Pulling fs layer 
 ab1bb1bcc11c Download complete 
 395992a1c37a Download complete 
 a66ada507b72 Download complete 
 c5e91758c40d Download complete 
 103793e5b42c Download complete 
 b9102aedc8d2 Downloading [==========================================>        ]  33.67MB/39.49MB
 b9102aedc8d2 Downloading [==========================================>        ]  33.67MB/39.49MB
 b9102aedc8d2 Downloading [==========================================>        ]  33.67MB/39.49MB
 b9102aedc8d2 Verifying Checksum 
 b9102aedc8d2 Download complete 
 b9102aedc8d2 Download complete 
 b9102aedc8d2 Verifying Checksum 
 b9102aedc8d2 Download complete 
 b9102aedc8d2 Extracting [>                                                  ]    426kB/39.49MB
 b9102aedc8d2 Extracting [>                                                  ]    426kB/39.49MB
 b9102aedc8d2 Extracting [>                                                  ]    426kB/39.49MB
 b9102aedc8d2 Extracting [============>                                      ]  10.22MB/39.49MB
 b9102aedc8d2 Extracting [============>                                      ]  10.22MB/39.49MB
 b9102aedc8d2 Extracting [============>                                      ]  10.22MB/39.49MB
 b9102aedc8d2 Extracting [======================>                            ]  17.89MB/39.49MB
 b9102aedc8d2 Extracting [======================>                            ]  17.89MB/39.49MB
 b9102aedc8d2 Extracting [======================>                            ]  17.89MB/39.49MB
 b9102aedc8d2 Extracting [================================>                  ]  25.99MB/39.49MB
 b9102aedc8d2 Extracting [================================>                  ]  25.99MB/39.49MB
 b9102aedc8d2 Extracting [================================>                  ]  25.99MB/39.49MB
 b9102aedc8d2 Extracting [===========================================>       ]  34.08MB/39.49MB
 b9102aedc8d2 Extracting [===========================================>       ]  34.08MB/39.49MB
 b9102aedc8d2 Extracting [===========================================>       ]  34.08MB/39.49MB
 b9102aedc8d2 Extracting [==================================================>]  39.49MB/39.49MB
 b9102aedc8d2 Extracting [==================================================>]  39.49MB/39.49MB
 b9102aedc8d2 Extracting [==================================================>]  39.49MB/39.49MB
 b9102aedc8d2 Pull complete 
 b9102aedc8d2 Pull complete 
 b9102aedc8d2 Pull complete 
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Extracting [==================================================>]     184B/184B
 395992a1c37a Pull complete 
 395992a1c37a Pull complete 
 395992a1c37a Pull complete 
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Extracting [==================================================>]  3.391kB/3.391kB
 a66ada507b72 Pull complete 
 a66ada507b72 Pull complete 
 a66ada507b72 Pull complete 
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Extracting [==================================================>]     138B/138B
 c5e91758c40d Pull complete 
 c5e91758c40d Pull complete 
 c5e91758c40d Pull complete 
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Extracting [==================================================>]      93B/93B
 103793e5b42c Pull complete 
 103793e5b42c Pull complete 
 103793e5b42c Pull complete 
 ab1bb1bcc11c Extracting [=====================================>             ]  32.77kB/43.73kB
 ab1bb1bcc11c Extracting [=====================================>             ]  32.77kB/43.73kB
 ab1bb1bcc11c Extracting [=====================================>             ]  32.77kB/43.73kB
 ab1bb1bcc11c Extracting [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Extracting [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Extracting [==================================================>]  43.73kB/43.73kB
 ab1bb1bcc11c Pull complete 
 ab1bb1bcc11c Pull complete 
 ab1bb1bcc11c Pull complete 
 api01 Pulled 
 worker01 Pulled 
 api02 Pulled 
#1 [internal] load local bake definitions
#1 reading from stdin 583B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile-redis
#2 transferring dockerfile: 227B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/redis:7.2-alpine
#3 DONE 0.0s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 309B done
#5 DONE 0.1s

#6 [1/4] FROM docker.io/library/redis:7.2-alpine
#6 DONE 0.2s

#7 [2/4] COPY ./redis.conf /usr/local/etc/redis/redis.conf
#7 DONE 0.2s

#8 [3/4] COPY ./init-redis.sh /init-redis.sh
#8 DONE 0.0s

#9 [4/4] RUN set -x   && chmod u+x /init-redis.sh
#9 0.169 + chmod u+x /init-redis.sh
#9 DONE 0.2s

#10 exporting to image
#10 exporting layers 0.1s done
#10 writing image sha256:d4842d898a391cd183e287f5497b9496bee3d84092c6ce4665a3815930845d94 done
#10 naming to docker.io/library/silvaangelo-redis done
#10 DONE 0.1s

#11 resolving provenance for metadata file
#11 DONE 0.0s
 silvaangelo-redis  Built
 Network silvaangelo_rinha-net  Creating
 Network silvaangelo_rinha-net  Created
 Volume "silvaangelo_redis-socket"  Creating
 Volume "silvaangelo_redis-socket"  Created
 Volume "silvaangelo_rinha-api01"  Creating
 Volume "silvaangelo_rinha-api01"  Created
 Volume "silvaangelo_rinha-api02"  Creating
 Volume "silvaangelo_rinha-api02"  Created
 Container silvaangelo-redis-1  Creating
 Container silvaangelo-redis-1  Created
 Container silvaangelo-api02-1  Creating
 Container silvaangelo-api01-1  Creating
 Container silvaangelo-worker01-1  Creating
 Container silvaangelo-api01-1  Created
 Container silvaangelo-worker01-1  Created
 Container silvaangelo-api02-1  Created
 Container silvaangelo-haproxy-1  Creating
 Container silvaangelo-haproxy-1  Created
Attaching to api01-1, api02-1, haproxy-1, redis-1, worker01-1
redis-1  | 1:C 13 Aug 2025 07:45:04.487 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-1  | 1:C 13 Aug 2025 07:45:04.487 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-1  | 1:C 13 Aug 2025 07:45:04.487 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
redis-1  | 1:C 13 Aug 2025 07:45:04.487 * Configuration loaded
redis-1  | 1:M 13 Aug 2025 07:45:04.487 * monotonic clock: POSIX clock_gettime
redis-1  | 1:M 13 Aug 2025 07:45:04.488 * Running mode=standalone, port=0.
redis-1  | 1:M 13 Aug 2025 07:45:04.488 * Server initialized
redis-1  | 1:M 13 Aug 2025 07:45:04.488 * Ready to accept connections unix
api02-1  | Subscribed to payments:fallback:health
api02-1  | Subscribed to payments:default:health
api02-1  | Subscribed to paid channels
api02-1  | Subscribed to workers:ready
haproxy-1  | [NOTICE]   (1) : New worker (8) forked
haproxy-1  | [NOTICE]   (1) : Loading success.
haproxy-1  | [WARNING]  (8) : Server backend_payments/api01 is DOWN, reason: Socket error, info: "General socket error (No such file or directory)", check duration: 0ms. 1 active and 0 backup servers left. 0 sessions active, 0 requeued, 0 remaining in queue.
worker01-1  | Subscribed to payments:fallback:health
worker01-1  | Subscribed to payments:default:health
worker01-1  | Subscribed to paid channels
api01-1     | Subscribed to payments:default:health
api01-1     | Subscribed to payments:fallback:health
api01-1     | Subscribed to paid channels
api01-1     | Subscribed to workers:ready
api02-1     | Server is running on http://localhost:3000
api01-1     | Server is running on http://localhost:3000
haproxy-1   | [WARNING]  (8) : Server backend_payments/api01 is UP, reason: Layer4 check passed, check duration: 0ms. 2 active and 0 backup servers online. 0 sessions requeued, 0 total in queue.
haproxy-1   | [NOTICE]   (1) : haproxy version is 2.9.15-e872a3f
haproxy-1   | [WARNING]  (1) : Exiting Master process...
haproxy-1   | [WARNING]  (8) : Proxy http-in stopped (cumulated conns: FE: 558, BE: 0).
haproxy-1   | [WARNING]  (8) : Proxy backend_payments stopped (cumulated conns: FE: 0, BE: 16748).
haproxy-1   | [WARNING]  (8) : Proxy backend_summary stopped (cumulated conns: FE: 0, BE: 0).
haproxy-1   | [WARNING]  (8) : Proxy backend_purge stopped (cumulated conns: FE: 0, BE: 1).
haproxy-1   | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
haproxy-1   | [WARNING]  (1) : All workers exited. Exiting... (0)
[Khaproxy-1 exited with code 0
[Kworker01-1 exited with code 137
[Kapi01-1 exited with code 137
[Kapi02-1 exited with code 137
redis-1     | 1:signal-handler (1755071193) Received SIGTERM scheduling shutdown...
redis-1     | 1:M 13 Aug 2025 07:46:33.171 * User requested shutdown...
redis-1     | 1:M 13 Aug 2025 07:46:33.171 * Removing the unix socket file.
redis-1     | 1:M 13 Aug 2025 07:46:33.171 # Redis is now ready to exit, bye bye...
log truncated at line 1000
