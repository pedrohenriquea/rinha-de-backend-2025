
 api1 Pulling 
 api2 Pulling 
 804c8aba2cc6 Pulling fs layer 
 2ae710cd8bfe Pulling fs layer 
 d462aa345367 Pulling fs layer 
 0f8b424aa0b9 Pulling fs layer 
 d557676654e5 Pulling fs layer 
 c8022d07192e Pulling fs layer 
 d858cbc252ad Pulling fs layer 
 1069fc2daed1 Pulling fs layer 
 b40161cd83fc Pulling fs layer 
 5318d93a3a65 Pulling fs layer 
 307c1adadb60 Pulling fs layer 
 2772bd5fb3df Pulling fs layer 
 8852bb06a792 Pulling fs layer 
 4ba7d6eb0859 Pulling fs layer 
 4c95a71dfb20 Pulling fs layer 
 0f8b424aa0b9 Waiting 
 d557676654e5 Waiting 
 c8022d07192e Waiting 
 d858cbc252ad Waiting 
 1069fc2daed1 Waiting 
 b40161cd83fc Waiting 
 8852bb06a792 Waiting 
 5318d93a3a65 Waiting 
 4ba7d6eb0859 Waiting 
 307c1adadb60 Waiting 
 4c95a71dfb20 Waiting 
 2772bd5fb3df Waiting 
 804c8aba2cc6 Pulling fs layer 
 2ae710cd8bfe Pulling fs layer 
 d462aa345367 Pulling fs layer 
 0f8b424aa0b9 Pulling fs layer 
 d557676654e5 Pulling fs layer 
 c8022d07192e Pulling fs layer 
 d858cbc252ad Pulling fs layer 
 1069fc2daed1 Pulling fs layer 
 0f8b424aa0b9 Waiting 
 c8022d07192e Waiting 
 b40161cd83fc Pulling fs layer 
 d557676654e5 Waiting 
 d858cbc252ad Waiting 
 1069fc2daed1 Waiting 
 5318d93a3a65 Pulling fs layer 
 307c1adadb60 Pulling fs layer 
 2772bd5fb3df Pulling fs layer 
 8852bb06a792 Pulling fs layer 
 4ba7d6eb0859 Pulling fs layer 
 4c95a71dfb20 Pulling fs layer 
 4c95a71dfb20 Waiting 
 b40161cd83fc Waiting 
 5318d93a3a65 Waiting 
 307c1adadb60 Waiting 
 2772bd5fb3df Waiting 
 8852bb06a792 Waiting 
 4ba7d6eb0859 Waiting 
 2ae710cd8bfe Downloading [====================>                              ]  8.459kB/20.32kB
 2ae710cd8bfe Downloading [====================>                              ]  8.459kB/20.32kB
 2ae710cd8bfe Downloading [==================================================>]  20.32kB/20.32kB
 2ae710cd8bfe Verifying Checksum 
 2ae710cd8bfe Downloading [==================================================>]  20.32kB/20.32kB
 2ae710cd8bfe Verifying Checksum 
 2ae710cd8bfe Download complete 
 2ae710cd8bfe Download complete 
 d462aa345367 Downloading [=>                                                 ]  16.38kB/634.2kB
 d462aa345367 Downloading [=>                                                 ]  16.38kB/634.2kB
 d462aa345367 Downloading [==================================================>]  634.2kB/634.2kB
 d462aa345367 Verifying Checksum 
 d462aa345367 Download complete 
 d462aa345367 Downloading [==================================================>]  634.2kB/634.2kB
 d462aa345367 Verifying Checksum 
 d462aa345367 Download complete 
 804c8aba2cc6 Downloading [=========>                                         ]  16.38kB/84.01kB
 804c8aba2cc6 Downloading [=========>                                         ]  16.38kB/84.01kB
 804c8aba2cc6 Downloading [==================================================>]  84.01kB/84.01kB
 804c8aba2cc6 Downloading [==================================================>]  84.01kB/84.01kB
 804c8aba2cc6 Verifying Checksum 
 804c8aba2cc6 Verifying Checksum 
 804c8aba2cc6 Download complete 
 804c8aba2cc6 Download complete 
 804c8aba2cc6 Extracting [===================>                               ]  32.77kB/84.01kB
 804c8aba2cc6 Extracting [===================>                               ]  32.77kB/84.01kB
 804c8aba2cc6 Extracting [==================================================>]  84.01kB/84.01kB
 804c8aba2cc6 Extracting [==================================================>]  84.01kB/84.01kB
 804c8aba2cc6 Extracting [==================================================>]  84.01kB/84.01kB
 804c8aba2cc6 Extracting [==================================================>]  84.01kB/84.01kB
 0f8b424aa0b9 Download complete 
 0f8b424aa0b9 Download complete 
 804c8aba2cc6 Pull complete 
 804c8aba2cc6 Pull complete 
 d557676654e5 Downloading [==================================================>]     193B/193B
 d557676654e5 Verifying Checksum 
 d557676654e5 Verifying Checksum 
 d557676654e5 Download complete 
 d557676654e5 Download complete 
 2ae710cd8bfe Extracting [==================================================>]  20.32kB/20.32kB
 2ae710cd8bfe Extracting [==================================================>]  20.32kB/20.32kB
 2ae710cd8bfe Extracting [==================================================>]  20.32kB/20.32kB
 2ae710cd8bfe Extracting [==================================================>]  20.32kB/20.32kB
 c8022d07192e Downloading [==================================================>]     130B/130B
 c8022d07192e Verifying Checksum 
 c8022d07192e Download complete 
 c8022d07192e Verifying Checksum 
 c8022d07192e Download complete 
 d858cbc252ad Downloading [==================================================>]     173B/173B
 d858cbc252ad Verifying Checksum 
 d858cbc252ad Downloading [==================================================>]     173B/173B
 d858cbc252ad Verifying Checksum 
 d858cbc252ad Download complete 
 d858cbc252ad Download complete 
 2ae710cd8bfe Pull complete 
 2ae710cd8bfe Pull complete 
 1069fc2daed1 Verifying Checksum 
 1069fc2daed1 Download complete 
 1069fc2daed1 Downloading [==================================================>]      97B/97B
 1069fc2daed1 Verifying Checksum 
 1069fc2daed1 Download complete 
 d462aa345367 Extracting [==>                                                ]  32.77kB/634.2kB
 d462aa345367 Extracting [==>                                                ]  32.77kB/634.2kB
 5318d93a3a65 Downloading [==================================================>]     327B/327B
 5318d93a3a65 Downloading [==================================================>]     327B/327B
 5318d93a3a65 Verifying Checksum 
 5318d93a3a65 Download complete 
 5318d93a3a65 Verifying Checksum 
 b40161cd83fc Downloading [==================================================>]     382B/382B
 b40161cd83fc Downloading [==================================================>]     382B/382B
 b40161cd83fc Verifying Checksum 
 b40161cd83fc Download complete 
 b40161cd83fc Verifying Checksum 
 b40161cd83fc Download complete 
 5318d93a3a65 Download complete 
 307c1adadb60 Downloading [======>                                            ]  16.38kB/122.1kB
 307c1adadb60 Downloading [======>                                            ]  16.38kB/122.1kB
 307c1adadb60 Verifying Checksum 
 307c1adadb60 Download complete 
 307c1adadb60 Downloading [==================================================>]  122.1kB/122.1kB
 307c1adadb60 Verifying Checksum 
 307c1adadb60 Download complete 
 2772bd5fb3df Downloading [>                                                  ]  52.85kB/5.21MB
 2772bd5fb3df Downloading [>                                                  ]  52.85kB/5.21MB
 d462aa345367 Extracting [===============================>                   ]  393.2kB/634.2kB
 d462aa345367 Extracting [===============================>                   ]  393.2kB/634.2kB
 4ba7d6eb0859 Downloading [>                                                  ]  16.38kB/927.8kB
 4ba7d6eb0859 Downloading [>                                                  ]  16.38kB/927.8kB
 8852bb06a792 Downloading [>                                                  ]  33.27kB/1.893MB
 8852bb06a792 Downloading [>                                                  ]  33.27kB/1.893MB
 4ba7d6eb0859 Verifying Checksum 
 4ba7d6eb0859 Download complete 
 2772bd5fb3df Verifying Checksum 
 2772bd5fb3df Download complete 
 2772bd5fb3df Verifying Checksum 
 4ba7d6eb0859 Verifying Checksum 
 4ba7d6eb0859 Download complete 
 2772bd5fb3df Download complete 
 8852bb06a792 Verifying Checksum 
 8852bb06a792 Download complete 
 8852bb06a792 Verifying Checksum 
 8852bb06a792 Download complete 
 d462aa345367 Extracting [=========================================>         ]  524.3kB/634.2kB
 d462aa345367 Extracting [=========================================>         ]  524.3kB/634.2kB
 d462aa345367 Extracting [=================================================> ]  622.6kB/634.2kB
 d462aa345367 Extracting [=================================================> ]  622.6kB/634.2kB
 d462aa345367 Extracting [==================================================>]  634.2kB/634.2kB
 d462aa345367 Extracting [==================================================>]  634.2kB/634.2kB
 d462aa345367 Extracting [==================================================>]  634.2kB/634.2kB
 d462aa345367 Extracting [==================================================>]  634.2kB/634.2kB
 4c95a71dfb20 Downloading [>                                                  ]   78.8kB/7.717MB
 4c95a71dfb20 Downloading [>                                                  ]   78.8kB/7.717MB
 4c95a71dfb20 Verifying Checksum 
 4c95a71dfb20 Download complete 
 4c95a71dfb20 Verifying Checksum 
 4c95a71dfb20 Download complete 
 d462aa345367 Pull complete 
 d462aa345367 Pull complete 
 0f8b424aa0b9 Extracting [==================================================>]      75B/75B
 0f8b424aa0b9 Extracting [==================================================>]      75B/75B
 0f8b424aa0b9 Extracting [==================================================>]      75B/75B
 0f8b424aa0b9 Extracting [==================================================>]      75B/75B
 0f8b424aa0b9 Pull complete 
 0f8b424aa0b9 Pull complete 
 d557676654e5 Extracting [==================================================>]     193B/193B
 d557676654e5 Extracting [==================================================>]     193B/193B
 d557676654e5 Extracting [==================================================>]     193B/193B
 d557676654e5 Extracting [==================================================>]     193B/193B
 d557676654e5 Pull complete 
 d557676654e5 Pull complete 
 c8022d07192e Extracting [==================================================>]     130B/130B
 c8022d07192e Extracting [==================================================>]     130B/130B
 c8022d07192e Extracting [==================================================>]     130B/130B
 c8022d07192e Extracting [==================================================>]     130B/130B
 c8022d07192e Pull complete 
 c8022d07192e Pull complete 
 d858cbc252ad Extracting [==================================================>]     173B/173B
 d858cbc252ad Extracting [==================================================>]     173B/173B
 d858cbc252ad Extracting [==================================================>]     173B/173B
 d858cbc252ad Extracting [==================================================>]     173B/173B
 d858cbc252ad Pull complete 
 d858cbc252ad Pull complete 
 1069fc2daed1 Extracting [==================================================>]      97B/97B
 1069fc2daed1 Extracting [==================================================>]      97B/97B
 1069fc2daed1 Extracting [==================================================>]      97B/97B
 1069fc2daed1 Extracting [==================================================>]      97B/97B
 1069fc2daed1 Pull complete 
 1069fc2daed1 Pull complete 
 b40161cd83fc Extracting [==================================================>]     382B/382B
 b40161cd83fc Extracting [==================================================>]     382B/382B
 b40161cd83fc Extracting [==================================================>]     382B/382B
 b40161cd83fc Extracting [==================================================>]     382B/382B
 b40161cd83fc Pull complete 
 b40161cd83fc Pull complete 
 5318d93a3a65 Extracting [==================================================>]     327B/327B
 5318d93a3a65 Extracting [==================================================>]     327B/327B
 5318d93a3a65 Extracting [==================================================>]     327B/327B
 5318d93a3a65 Extracting [==================================================>]     327B/327B
 5318d93a3a65 Pull complete 
 5318d93a3a65 Pull complete 
 307c1adadb60 Extracting [=============>                                     ]  32.77kB/122.1kB
 307c1adadb60 Extracting [=============>                                     ]  32.77kB/122.1kB
 307c1adadb60 Extracting [==================================================>]  122.1kB/122.1kB
 307c1adadb60 Extracting [==================================================>]  122.1kB/122.1kB
 307c1adadb60 Pull complete 
 307c1adadb60 Pull complete 
 2772bd5fb3df Extracting [>                                                  ]  65.54kB/5.21MB
 2772bd5fb3df Extracting [>                                                  ]  65.54kB/5.21MB
 2772bd5fb3df Extracting [==================================>                ]  3.604MB/5.21MB
 2772bd5fb3df Extracting [==================================>                ]  3.604MB/5.21MB
 2772bd5fb3df Extracting [==================================================>]   5.21MB/5.21MB
 2772bd5fb3df Extracting [==================================================>]   5.21MB/5.21MB
 2772bd5fb3df Pull complete 
 2772bd5fb3df Pull complete 
 8852bb06a792 Extracting [>                                                  ]  32.77kB/1.893MB
 8852bb06a792 Extracting [>                                                  ]  32.77kB/1.893MB
 8852bb06a792 Extracting [==================================================>]  1.893MB/1.893MB
 8852bb06a792 Extracting [==================================================>]  1.893MB/1.893MB
 8852bb06a792 Extracting [==================================================>]  1.893MB/1.893MB
 8852bb06a792 Pull complete 
 8852bb06a792 Pull complete 
 4ba7d6eb0859 Extracting [=>                                                 ]  32.77kB/927.8kB
 4ba7d6eb0859 Extracting [=>                                                 ]  32.77kB/927.8kB
 4ba7d6eb0859 Extracting [==================================================>]  927.8kB/927.8kB
 4ba7d6eb0859 Extracting [==================================================>]  927.8kB/927.8kB
 4ba7d6eb0859 Extracting [==================================================>]  927.8kB/927.8kB
 4ba7d6eb0859 Extracting [==================================================>]  927.8kB/927.8kB
 4ba7d6eb0859 Pull complete 
 4ba7d6eb0859 Pull complete 
 4c95a71dfb20 Extracting [>                                                  ]   98.3kB/7.717MB
 4c95a71dfb20 Extracting [>                                                  ]   98.3kB/7.717MB
 4c95a71dfb20 Extracting [==================================================>]  7.717MB/7.717MB
 4c95a71dfb20 Extracting [==================================================>]  7.717MB/7.717MB
 4c95a71dfb20 Pull complete 
 4c95a71dfb20 Pull complete 
 api2 Pulled 
 api1 Pulled 
 Network marcusadriano-go_rinha  Creating
 Network marcusadriano-go_rinha  Created
 Container marcusadriano-go-db-1  Creating
 Container marcusadriano-go-db-1  Created
 Container marcusadriano-go-api1-1  Creating
 Container marcusadriano-go-api2-1  Creating
 Container marcusadriano-go-api1-1  Created
 Container marcusadriano-go-api2-1  Created
 Container marcusadriano-go-nginx-1  Creating
 Container marcusadriano-go-nginx-1  Created
Attaching to api1-1, api2-1, db-1, nginx-1
db-1  | The files belonging to this database system will be owned by user "postgres".
db-1  | This user must also own the server process.
db-1  | 
db-1  | The database cluster will be initialized with locale "en_US.utf8".
db-1  | The default database encoding has accordingly been set to "UTF8".
db-1  | The default text search configuration will be set to "english".
db-1  | 
db-1  | Data page checksums are disabled.
db-1  | 
db-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
db-1  | creating subdirectories ... ok
db-1  | selecting dynamic shared memory implementation ... posix
db-1  | selecting default "max_connections" ... 100
db-1  | selecting default "shared_buffers" ... 128MB
db-1  | selecting default time zone ... UTC
db-1  | creating configuration files ... ok
db-1  | running bootstrap script ... ok
db-1  | sh: locale: not found
db-1  | 2025-08-13 00:15:03.429 UTC [35] WARNING:  no usable system locales were found
db-1  | performing post-bootstrap initialization ... ok
db-1  | initdb: warning: enabling "trust" authentication for local connections
db-1  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
db-1  | syncing data to disk ... ok
db-1  | 
db-1  | 
db-1  | Success. You can now start the database server using:
db-1  | 
db-1  |     pg_ctl -D /var/lib/postgresql/data -l logfile start
db-1  | 
db-1  | waiting for server to start....2025-08-13 00:15:06.395 UTC [47] LOG:  starting PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
db-1  | 2025-08-13 00:15:06.398 UTC [47] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1  | 2025-08-13 00:15:06.409 UTC [50] LOG:  database system was shut down at 2025-08-13 00:15:05 UTC
db-1  | 2025-08-13 00:15:06.417 UTC [47] LOG:  database system is ready to accept connections
db-1  |  done
db-1  | server started
db-1  | CREATE DATABASE
db-1  | 
db-1  | 
db-1  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
db-1  | CREATE TABLE
db-1  | CREATE INDEX
db-1  | 
db-1  | 
db-1  | waiting for server to shut down....2025-08-13 00:15:06.881 UTC [47] LOG:  received fast shutdown request
db-1  | 2025-08-13 00:15:06.885 UTC [47] LOG:  aborting any active transactions
db-1  | 2025-08-13 00:15:06.973 UTC [47] LOG:  background worker "logical replication launcher" (PID 53) exited with exit code 1
db-1  | 2025-08-13 00:15:06.975 UTC [48] LOG:  shutting down
db-1  | 2025-08-13 00:15:06.978 UTC [48] LOG:  checkpoint starting: shutdown immediate
db-1  | 2025-08-13 00:15:07.048 UTC [48] LOG:  checkpoint complete: wrote 927 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.034 s, sync=0.026 s, total=0.073 s; sync files=311, longest=0.004 s, average=0.001 s; distance=4276 kB, estimate=4276 kB; lsn=0/191A308, redo lsn=0/191A308
db-1  | 2025-08-13 00:15:07.075 UTC [47] LOG:  database system is shut down
db-1  |  done
db-1  | server stopped
db-1  | 
db-1  | PostgreSQL init process complete; ready for start up.
db-1  | 
db-1  | 2025-08-13 00:15:07.173 UTC [1] LOG:  starting PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
db-1  | 2025-08-13 00:15:07.173 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
db-1  | 2025-08-13 00:15:07.173 UTC [1] LOG:  listening on IPv6 address "::", port 5432
db-1  | 2025-08-13 00:15:07.179 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1  | 2025-08-13 00:15:07.188 UTC [65] LOG:  database system was shut down at 2025-08-13 00:15:07 UTC
db-1  | 2025-08-13 00:15:07.196 UTC [1] LOG:  database system is ready to accept connections
api2-1  | 2025/08/12 21:15:11 Using main processor URL: http://payment-processor-default:8080
api2-1  | 2025/08/12 21:15:11 Using fallback processor URL: http://payment-processor-fallback:8080
api2-1  | 2025/08/12 21:15:11 Using database URL: postgres://postgres:postgres@db:5432/dbpayments?pool_max_conns=10&pool_min_conns=10&pool_max_conn_lifetime=330s
api2-1  | 2025/08/12 21:15:11 Running payment processor...
api1-1  | 2025/08/12 21:15:11 Using main processor URL: http://payment-processor-default:8080
api1-1  | 2025/08/12 21:15:11 Using fallback processor URL: http://payment-processor-fallback:8080
api1-1  | 2025/08/12 21:15:11 Using database URL: postgres://postgres:postgres@db:5432/dbpayments?pool_max_conns=10&pool_min_conns=10&pool_max_conn_lifetime=330s
api1-1  | 2025/08/12 21:15:11 Running payment processor...
nginx-1  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1  | /docker-entrypoint.sh: Configuration complete; ready for start up
api1-1   | 2025/08/12 21:15:13 Fetching payments summary from: 2025-08-11 21:15:13.232072721 -0300 -03, to: 2025-08-13 21:15:13.232073771 -0300 -03
api1-1   | 2025/08/12 21:15:18 http://payment-processor-default:8080/admin/purge-payments -> 
api1-1   | 2025/08/12 21:15:18 http://payment-processor-fallback:8080/admin/purge-payments -> 
api1-1   | 2025/08/12 21:15:18 Fetching payments summary from: 2025-08-13 00:15:03.781 +0000 UTC, to: 2025-08-13 00:15:17.281 +0000 UTC
api1-1   | 2025/08/12 21:15:28 Fetching payments summary from: 2025-08-13 00:15:13.788 +0000 UTC, to: 2025-08-13 00:15:27.288 +0000 UTC
api2-1   | 2025/08/12 21:15:38 Fetching payments summary from: 2025-08-13 00:15:23.79 +0000 UTC, to: 2025-08-13 00:15:37.29 +0000 UTC
api2-1   | 2025/08/12 21:15:48 Fetching payments summary from: 2025-08-13 00:15:33.795 +0000 UTC, to: 2025-08-13 00:15:47.295 +0000 UTC
api2-1   | 2025/08/12 21:15:58 Fetching payments summary from: 2025-08-13 00:15:43.798 +0000 UTC, to: 2025-08-13 00:15:57.298 +0000 UTC
api2-1   | 2025/08/12 21:16:08 Fetching payments summary from: 2025-08-13 00:15:53.803 +0000 UTC, to: 2025-08-13 00:16:07.303 +0000 UTC
api1-1   | 2025/08/12 21:16:19 Fetching payments summary from: 2025-08-13 00:15:09.774 +0000 UTC, to: 2025-08-13 00:16:19.774 +0000 UTC
[Knginx-1 exited with code 0
[Kapi1-1 exited with code 2
[Kapi2-1 exited with code 2
db-1     | 2025-08-13 00:16:20.575 UTC [1] LOG:  received fast shutdown request
db-1     | 2025-08-13 00:16:20.578 UTC [1] LOG:  aborting any active transactions
db-1     | 2025-08-13 00:16:20.582 UTC [1] LOG:  background worker "logical replication launcher" (PID 68) exited with exit code 1
db-1     | 2025-08-13 00:16:20.582 UTC [63] LOG:  shutting down
db-1     | 2025-08-13 00:16:20.585 UTC [63] LOG:  checkpoint starting: shutdown immediate
db-1     | 2025-08-13 00:16:20.609 UTC [63] LOG:  checkpoint complete: wrote 308 buffers (1.9%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.009 s, sync=0.004 s, total=0.028 s; sync files=30, longest=0.002 s, average=0.001 s; distance=738 kB, estimate=738 kB; lsn=0/19D2DE8, redo lsn=0/19D2DE8
db-1     | 2025-08-13 00:16:20.616 UTC [1] LOG:  database system is shut down
log truncated at line 1000
