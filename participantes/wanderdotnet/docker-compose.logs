
 worker1 Pulling 
 api2 Pulling 
 worker2 Pulling 
 nginx Pulling 
 api1 Pulling 
 96526aa774ef Pulling fs layer 
 4a0f59666a5f Pulling fs layer 
 9f5472f13101 Pulling fs layer 
 a4c1563b8f04 Pulling fs layer 
 7662ce3fbb6d Pulling fs layer 
 d94270e5bff8 Pulling fs layer 
 f1a3f1328c13 Pulling fs layer 
 a2860423d97a Pulling fs layer 
 7662ce3fbb6d Waiting 
 d94270e5bff8 Waiting 
 f1a3f1328c13 Waiting 
 a2860423d97a Waiting 
 a4c1563b8f04 Waiting 
 9f5472f13101 Downloading [==================================================>]     628B/628B
 9f5472f13101 Verifying Checksum 
 9f5472f13101 Download complete 
 96526aa774ef Downloading [>                                                  ]  34.26kB/3.402MB
 96526aa774ef Verifying Checksum 
 96526aa774ef Download complete 
 96526aa774ef Extracting [>                                                  ]  65.54kB/3.402MB
 a4c1563b8f04 Downloading [==================================================>]     958B/958B
 a4c1563b8f04 Verifying Checksum 
 a4c1563b8f04 Download complete 
 4a0f59666a5f Downloading [>                                                  ]  33.25kB/1.898MB
 4a0f59666a5f Verifying Checksum 
 4a0f59666a5f Download complete 
 96526aa774ef Extracting [==================================================>]  3.402MB/3.402MB
 96526aa774ef Extracting [==================================================>]  3.402MB/3.402MB
 d94270e5bff8 Downloading [==================================================>]  1.214kB/1.214kB
 d94270e5bff8 Verifying Checksum 
 d94270e5bff8 Download complete 
 f1a3f1328c13 Downloading [==================================================>]  1.403kB/1.403kB
 f1a3f1328c13 Verifying Checksum 
 f1a3f1328c13 Download complete 
 7662ce3fbb6d Downloading [==================================================>]     370B/370B
 7662ce3fbb6d Verifying Checksum 
 7662ce3fbb6d Download complete 
 96526aa774ef Pull complete 
 4a0f59666a5f Extracting [>                                                  ]  32.77kB/1.898MB
 a2860423d97a Downloading [>                                                  ]  132.8kB/12.64MB
 4a0f59666a5f Extracting [=================================================> ]  1.868MB/1.898MB
 4a0f59666a5f Extracting [==================================================>]  1.898MB/1.898MB
 a2860423d97a Downloading [==========================================>        ]  10.64MB/12.64MB
 4a0f59666a5f Extracting [==================================================>]  1.898MB/1.898MB
 a2860423d97a Verifying Checksum 
 a2860423d97a Download complete 
 4a0f59666a5f Pull complete 
 9f5472f13101 Extracting [==================================================>]     628B/628B
 9f5472f13101 Extracting [==================================================>]     628B/628B
 9f5472f13101 Pull complete 
 a4c1563b8f04 Extracting [==================================================>]     958B/958B
 a4c1563b8f04 Extracting [==================================================>]     958B/958B
 0368fd46e3c6 Already exists 
 0670596c9dd1 Pulling fs layer 
 b2683b5bf4e2 Pulling fs layer 
 ef180b408ba6 Pulling fs layer 
 143159cfb8fa Pulling fs layer 
 143159cfb8fa Waiting 
 a4c1563b8f04 Pull complete 
 7662ce3fbb6d Extracting [==================================================>]     370B/370B
 7662ce3fbb6d Extracting [==================================================>]     370B/370B
 7662ce3fbb6d Pull complete 
 d94270e5bff8 Extracting [==================================================>]  1.214kB/1.214kB
 d94270e5bff8 Extracting [==================================================>]  1.214kB/1.214kB
 b2683b5bf4e2 Download complete 
 d94270e5bff8 Pull complete 
 f1a3f1328c13 Extracting [==================================================>]  1.403kB/1.403kB
 f1a3f1328c13 Extracting [==================================================>]  1.403kB/1.403kB
 ef180b408ba6 Downloading [==================================================>]      93B/93B
 ef180b408ba6 Verifying Checksum 
 ef180b408ba6 Download complete 
 f1a3f1328c13 Pull complete 
 a2860423d97a Extracting [>                                                  ]  131.1kB/12.64MB
 0670596c9dd1 Downloading [>                                                  ]  16.38kB/1.064MB
 0670596c9dd1 Verifying Checksum 
 0670596c9dd1 Download complete 
 0670596c9dd1 Extracting [=>                                                 ]  32.77kB/1.064MB
 0670596c9dd1 Extracting [==================================================>]  1.064MB/1.064MB
 0670596c9dd1 Extracting [==================================================>]  1.064MB/1.064MB
 0368fd46e3c6 Already exists 
 0670596c9dd1 Pulling fs layer 
 b2683b5bf4e2 Pulling fs layer 
 ef180b408ba6 Pulling fs layer 
 143159cfb8fa Pulling fs layer 
 143159cfb8fa Waiting 
 ef180b408ba6 Download complete 
 b2683b5bf4e2 Download complete 
 0670596c9dd1 Extracting [==================================================>]  1.064MB/1.064MB
 143159cfb8fa Downloading [>                                                  ]  191.7kB/18.82MB
 143159cfb8fa Downloading [>                                                  ]  191.7kB/18.82MB
 0670596c9dd1 Pull complete 
 0670596c9dd1 Pull complete 
 b2683b5bf4e2 Extracting [==================================================>]     946B/946B
 b2683b5bf4e2 Extracting [==================================================>]     946B/946B
 b2683b5bf4e2 Extracting [==================================================>]     946B/946B
 b2683b5bf4e2 Extracting [==================================================>]     946B/946B
 a2860423d97a Extracting [=>                                                 ]  393.2kB/12.64MB
 b2683b5bf4e2 Pull complete 
 b2683b5bf4e2 Pull complete 
 ef180b408ba6 Extracting [==================================================>]      93B/93B
 ef180b408ba6 Extracting [==================================================>]      93B/93B
 ef180b408ba6 Extracting [==================================================>]      93B/93B
 ef180b408ba6 Extracting [==================================================>]      93B/93B
 ef180b408ba6 Pull complete 
 ef180b408ba6 Pull complete 
 143159cfb8fa Verifying Checksum 
 143159cfb8fa Download complete 
 143159cfb8fa Verifying Checksum 
 143159cfb8fa Download complete 
 143159cfb8fa Extracting [>                                                  ]  196.6kB/18.82MB
 143159cfb8fa Extracting [>                                                  ]  196.6kB/18.82MB
 a2860423d97a Extracting [====================>                              ]  5.243MB/12.64MB
 143159cfb8fa Extracting [===============>                                   ]  5.898MB/18.82MB
 143159cfb8fa Extracting [===============>                                   ]  5.898MB/18.82MB
 a2860423d97a Extracting [=======================================>           ]  10.09MB/12.64MB
 143159cfb8fa Extracting [==========================================>        ]  16.12MB/18.82MB
 143159cfb8fa Extracting [==========================================>        ]  16.12MB/18.82MB
 a2860423d97a Extracting [==================================================>]  12.64MB/12.64MB
 143159cfb8fa Extracting [==================================================>]  18.82MB/18.82MB
 143159cfb8fa Extracting [==================================================>]  18.82MB/18.82MB
 143159cfb8fa Pull complete 
 143159cfb8fa Pull complete 
 a2860423d97a Pull complete 
 worker2 Pulled 
 worker1 Pulled 
 nginx Pulled 
 api1 Pulled 
 api2 Pulled 
 Network wanderdotnet_default  Creating
 Network wanderdotnet_default  Created
 Volume "wanderdotnet_postgres_data"  Creating
 Volume "wanderdotnet_postgres_data"  Created
 Container wanderdotnet-cache-1  Creating
 Container wanderdotnet-database-1  Creating
 Container wanderdotnet-database-1  Created
 Container wanderdotnet-cache-1  Created
 Container wanderdotnet-api1-1  Creating
 Container wanderdotnet-api2-1  Creating
 Container wanderdotnet-worker1-1  Creating
 Container wanderdotnet-worker2-1  Creating
 Container wanderdotnet-worker1-1  Created
 Container wanderdotnet-api2-1  Created
 Container wanderdotnet-api1-1  Created
 Container wanderdotnet-worker2-1  Created
 Container wanderdotnet-nginx-1  Creating
 Container wanderdotnet-nginx-1  Created
Attaching to api1-1, api2-1, cache-1, database-1, nginx-1, worker1-1, worker2-1
database-1  | The files belonging to this database system will be owned by user "postgres".
database-1  | This user must also own the server process.
database-1  | 
database-1  | The database cluster will be initialized with locale "en_US.utf8".
database-1  | The default database encoding has accordingly been set to "UTF8".
database-1  | The default text search configuration will be set to "english".
database-1  | 
database-1  | Data page checksums are disabled.
database-1  | 
database-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
database-1  | creating subdirectories ... ok
database-1  | selecting dynamic shared memory implementation ... posix
cache-1     | 1:C 13 Aug 2025 08:25:15.476 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
cache-1     | 1:C 13 Aug 2025 08:25:15.476 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
cache-1     | 1:C 13 Aug 2025 08:25:15.476 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
cache-1     | 1:C 13 Aug 2025 08:25:15.476 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
cache-1     | 1:M 13 Aug 2025 08:25:15.476 * monotonic clock: POSIX clock_gettime
cache-1     | 1:M 13 Aug 2025 08:25:15.477 * Running mode=standalone, port=6379.
cache-1     | 1:M 13 Aug 2025 08:25:15.477 * Server initialized
cache-1     | 1:M 13 Aug 2025 08:25:15.477 * Ready to accept connections tcp
database-1  | selecting default max_connections ... 100
database-1  | selecting default shared_buffers ... 128MB
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Health Check Service iniciado.
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Application started. Press Ctrl+C to shut down.
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Hosting environment: Production
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Content root path: /app
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Health Check Service iniciado.
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Health Check Service iniciado.
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Application started. Press Ctrl+C to shut down.
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Hosting environment: Production
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Content root path: /app
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Application started. Press Ctrl+C to shut down.
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Hosting environment: Production
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Content root path: /app
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 6.6808ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 7.5139ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 7.0892ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 7.1071ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Health Check Service iniciado.
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Application started. Press Ctrl+C to shut down.
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Hosting environment: Production
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Content root path: /app
database-1  | selecting default time zone ... UTC
database-1  | creating configuration files ... ok
nginx-1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1     | /docker-entrypoint.sh: Configuration complete; ready for start up
nginx-1     | 2025/08/13 08:25:16 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:25:16 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:16 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
database-1  | running bootstrap script ... ok
database-1  | sh: locale: not found
database-1  | 2025-08-13 08:25:18.972 UTC [36] WARNING:  no usable system locales were found
database-1  | performing post-bootstrap initialization ... ok
database-1  | initdb: warning: enabling "trust" authentication for local connections
database-1  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
database-1  | syncing data to disk ... ok
database-1  | 
database-1  | 
database-1  | Success. You can now start the database server using:
database-1  | 
database-1  |     pg_ctl -D /var/lib/postgresql/data -l logfile start
database-1  | 
database-1  | waiting for server to start....2025-08-13 08:25:20.750 UTC [42] LOG:  starting PostgreSQL 16.9 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
database-1  | 2025-08-13 08:25:20.751 UTC [42] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
database-1  | 2025-08-13 08:25:20.754 UTC [45] LOG:  database system was shut down at 2025-08-13 08:25:20 UTC
database-1  | 2025-08-13 08:25:20.759 UTC [42] LOG:  database system is ready to accept connections
database-1  |  done
database-1  | server started
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5028.7593ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5031.8274ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5050.526ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5050.8225ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
database-1  | CREATE DATABASE
database-1  | 
database-1  | 
database-1  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
database-1  | CREATE TABLE
database-1  | CREATE INDEX
database-1  | 
database-1  | 
database-1  | waiting for server to shut down....2025-08-13 08:25:21.150 UTC [42] LOG:  received fast shutdown request
database-1  | 2025-08-13 08:25:21.150 UTC [42] LOG:  aborting any active transactions
database-1  | 2025-08-13 08:25:21.154 UTC [42] LOG:  background worker "logical replication launcher" (PID 48) exited with exit code 1
database-1  | 2025-08-13 08:25:21.155 UTC [43] LOG:  shutting down
database-1  | 2025-08-13 08:25:21.155 UTC [43] LOG:  checkpoint starting: shutdown immediate
database-1  | 2025-08-13 08:25:21.253 UTC [43] LOG:  checkpoint complete: wrote 933 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.099 s, sync=0.001 s, total=0.099 s; sync files=0, longest=0.000 s, average=0.000 s; distance=4291 kB, estimate=4291 kB; lsn=0/1923280, redo lsn=0/1923280
database-1  | 2025-08-13 08:25:21.263 UTC [42] LOG:  database system is shut down
database-1  |  done
database-1  | server stopped
database-1  | 
database-1  | PostgreSQL init process complete; ready for start up.
database-1  | 
database-1  | 2025-08-13 08:25:21.371 UTC [1] LOG:  starting PostgreSQL 16.9 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
database-1  | 2025-08-13 08:25:21.371 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
database-1  | 2025-08-13 08:25:21.371 UTC [1] LOG:  listening on IPv6 address "::", port 5432
database-1  | 2025-08-13 08:25:21.371 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
database-1  | 2025-08-13 08:25:21.374 UTC [60] LOG:  database system was shut down at 2025-08-13 08:25:21 UTC
database-1  | 2025-08-13 08:25:21.436 UTC [1] LOG:  database system is ready to accept connections
nginx-1     | 2025/08/13 08:25:21 [error] 31#31: *4 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:25:21 [error] 31#31: *4 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:21 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5049.3306ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5049.3756ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5071.2438ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5071.3038ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 2025/08/13 08:25:26 [error] 32#32: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:25:26 [error] 32#32: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:26 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 4978.8635ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 4978.8991ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5099.9885ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5100.0259ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:25:31 [error] 33#33: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:25:31 [error] 33#33: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:31 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5077.2109ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5077.2547ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5099.1425ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5099.1721ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:25:36 [error] 30#30: *13 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:25:36 [error] 30#30: *13 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:36 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5000.2962ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5000.3319ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5077.6472ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5077.6749ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:25:41 [error] 30#30: *16 no live upstreams while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:41 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5099.8107ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5099.8551ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5177.3866ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5177.4112ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:25:46 [error] 30#30: *17 no live upstreams while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:46 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5099.3913ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5099.4288ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5121.4971ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5121.5271ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:25:51 [error] 30#30: *18 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:25:51 [error] 30#30: *18 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:51 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5099.0913ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5099.1175ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5120.7082ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5120.737ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:25:56 [error] 30#30: *21 no live upstreams while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:25:56 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5099.7083ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5099.7515ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5177.6674ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5177.707ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:26:01 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
nginx-1     | 2025/08/13 08:26:01 [error] 30#30: *22 no live upstreams while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5099.9513ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5100.0251ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5177.7325ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5177.8276ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:26:06 [error] 30#30: *23 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:26:06 [error] 30#30: *23 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:26:06 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5121.1394ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5121.1816ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5199.3059ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5199.3567ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
nginx-1     | 2025/08/13 08:26:11 [error] 30#30: *26 no live upstreams while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:26:11 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5021.3826ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5021.4202ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:26:16 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
nginx-1     | 2025/08/13 08:26:16 [error] 30#30: *27 no live upstreams while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://rinha_api_servers/payments-summary", host: "localhost:9999"
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 5199.2876ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 5199.3202ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do fallback atualizado: IsFailing = False
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador default
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Falha ao verificar saúde do processador fallback
api1-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api1-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api1-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api1-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api1-1      |          --- End of inner exception stack trace ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api1-1      |       --- End of stack trace from previous location ---
api1-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       Status de saúde do default atualizado: IsFailing = True
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5020.6431ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5020.681ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do default atualizado: IsFailing = False
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: default
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       A verificar saúde do processador: fallback
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker2-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker2-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
nginx-1     | 2025/08/13 08:26:21 [error] 30#30: *28 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.5:8080/payments-summary", host: "localhost:9999"
nginx-1     | 2025/08/13 08:26:21 [error] 30#30: *28 connect() failed (111: Connection refused) while connecting to upstream, client: 172.21.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.21.0.6:8080/payments-summary", host: "localhost:9999"
nginx-1     | 172.21.0.1 - - [13/Aug/2025:08:26:21 +0000] "GET /payments-summary HTTP/1.1" 502 157 "-" "curl/8.5.0"
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker1-1   |       Received HTTP response headers after 5198.6856ms - 200
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker1-1   |       End processing HTTP request after 5198.7158ms - 200
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       Status de saúde do fallback atualizado: IsFailing = False
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador default
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-default:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | warn: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Falha ao verificar saúde do processador fallback
api2-1      |       System.Net.Http.HttpRequestException: Resource temporarily unavailable (payment-processor-fallback:8080)
api2-1      |        ---> System.Net.Sockets.SocketException (11): Resource temporarily unavailable
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError, CancellationToken) + 0x3e
api2-1      |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16) + 0x53
api2-1      |          at System.Net.Sockets.Socket.<<ConnectAsync>g__WaitForConnectWithCancellation|285_0>d.MoveNext() + 0x1bb
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x73d
api2-1      |          --- End of inner exception stack trace ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectToTcpHostAsync>d__52.MoveNext() + 0x7ae
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<ConnectAsync>d__51.MoveNext() + 0x3cf
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<CreateHttp11ConnectionAsync>d__80.MoveNext() + 0x28e
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<InjectNewHttp11ConnectionAsync>d__79.MoveNext() + 0x2d7
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.<WaitWithCancellationAsync>d__1.MoveNext() + 0xef
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpConnectionPool.<SendWithVersionDetectionAndRetryAsync>d__50.MoveNext() + 0x9f6
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.RedirectHandler.<SendAsync>d__4.MoveNext() + 0x1c8
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0x63
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<<SendCoreAsync>g__Core|4_0>d.MoveNext() + 0xfe
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at System.Net.Http.HttpClient.<<SendAsync>g__Core|83_0>d.MoveNext() + 0x35a
api2-1      |       --- End of stack trace from previous location ---
api2-1      |          at RinhaBackend.Worker.HealthCheckService.<CheckAndStoreHealthAsync>d__7.MoveNext() + 0x2ca
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do default atualizado: IsFailing = True
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       Status de saúde do fallback atualizado: IsFailing = True
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: default
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api1-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api1-1      |       A verificar saúde do processador: fallback
api1-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api1-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api1-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api1-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker2-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[101]
worker2-1   |       Received HTTP response headers after 4921.3193ms - 200
worker2-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
worker2-1   |       End processing HTTP request after 4921.3581ms - 200
worker2-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker2-1   |       Status de saúde do default atualizado: IsFailing = False
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: default
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
worker1-1   | info: RinhaBackend.Worker.HealthCheckService[0]
worker1-1   |       A verificar saúde do processador: fallback
worker1-1   | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
worker1-1   |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
worker1-1   |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
worker1-1   | info: Microsoft.Hosting.Lifetime[0]
worker1-1   |       Application is shutting down...
worker2-1   | info: Microsoft.Hosting.Lifetime[0]
worker2-1   |       Application is shutting down...
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: default
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-default:8080/payments/service-health
api2-1      | info: RinhaBackend.Worker.HealthCheckService[0]
api2-1      |       A verificar saúde do processador: fallback
api2-1      | info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
api2-1      |       Start processing HTTP request GET http://payment-processor-fallback:8080/payments/service-health
api2-1      | info: System.Net.Http.HttpClient.Default.ClientHandler[100]
api2-1      |       Sending HTTP request GET http://payment-processor-fallback:8080/payments/service-health
[Knginx-1 exited with code 0
api1-1      | info: Microsoft.Hosting.Lifetime[0]
api1-1      |       Application is shutting down...
api2-1      | info: Microsoft.Hosting.Lifetime[0]
api2-1      |       Application is shutting down...
[Kworker1-1 exited with code 0
[Kworker2-1 exited with code 0
[Kapi1-1 exited with code 0
[Kapi2-1 exited with code 0
cache-1     | 1:signal-handler (1755073587) Received SIGTERM scheduling shutdown...
database-1  | 2025-08-13 08:26:27.242 UTC [1] LOG:  received fast shutdown request
database-1  | 2025-08-13 08:26:27.242 UTC [1] LOG:  aborting any active transactions
database-1  | 2025-08-13 08:26:27.246 UTC [1] LOG:  background worker "logical replication launcher" (PID 63) exited with exit code 1
database-1  | 2025-08-13 08:26:27.246 UTC [58] LOG:  shutting down
database-1  | 2025-08-13 08:26:27.246 UTC [58] LOG:  checkpoint starting: shutdown immediate
database-1  | 2025-08-13 08:26:27.247 UTC [58] LOG:  checkpoint complete: wrote 43 buffers (0.3%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.001 s, sync=0.001 s, total=0.002 s; sync files=0, longest=0.000 s, average=0.000 s; distance=73 kB, estimate=73 kB; lsn=0/1935960, redo lsn=0/1935960
database-1  | 2025-08-13 08:26:27.253 UTC [1] LOG:  database system is shut down
cache-1     | 1:M 13 Aug 2025 08:26:27.297 * User requested shutdown...
cache-1     | 1:M 13 Aug 2025 08:26:27.297 * Saving the final RDB snapshot before exiting.
cache-1     | 1:M 13 Aug 2025 08:26:27.303 * DB saved on disk
cache-1     | 1:M 13 Aug 2025 08:26:27.303 # Redis is now ready to exit, bye bye...
[Kdatabase-1 exited with code 0
