
 Network 4emcos-bun-lb_default  Creating
 Network 4emcos-bun-lb_default  Created
 Network 4emcos-bun-lb_backend  Creating
 Network 4emcos-bun-lb_backend  Created
 Volume "4emcos-bun-lb_socket_data"  Creating
 Volume "4emcos-bun-lb_socket_data"  Created
 Container 4emcos-bun-lb-writer-1  Creating
 Container 4emcos-bun-lb-writer-1  Created
 Container backend-01  Creating
 Container backend-02  Creating
 Container backend-01  Created
 Container backend-02  Created
 Container 4emcos-bun-lb-load-balance-1  Creating
 Container 4emcos-bun-lb-load-balance-1  Created
Attaching to load-balance-1, writer-1, backend-01, backend-02
writer-1  | 2025/08/17 00:43:37 Server running on unix socket: /tmp/writer.sock
load-balance-1  | 2025/08/17 00:43:37 High-performance load balancer listening on :9999
backend-02      | Failed to get all payments via UDS client: 2 | import{request as E}from"undici";var{serve:R}=globalThis.Bun;class M{socketPath;constructor(g){this.socketPath=g}async storePayment(g){fetch("http://localhost/store",{method:"POST",body:JSON.stringify({payment:g}),unix:this.socketPath,headers:{Connection:"keep-alive"}}).catch((j)=>{console.error("Store payment error:",j)})}async getAllPayments(){try{return await(await fetch("http://localhost/getAll",{method:"GET",unix:this.socketPath,headers:{Connection:"keep-alive"}})).json()}catch(g){return console.error("Failed to get all payments via UDS client:",g),[]}}async getPaymentsByRange(g,j){try{return await(await fetch(`http://localhost/getByRange?from=${g}&to=${j}`,{method:"GET",unix:this.socketPath,headers:{Connection:"keep-alive"}})).json()}catch(A){return console.error("Failed to get all payments via UDS client:",A),""}}}var J={BATCH_SIZE:50,MIN_WAIT_TIME:1,MAX_WAIT_TIME:10,MAX_RETRY_DELAY:1,CONCURRENT_REQUESTS:100,QUEUE_DRAIN_THRESHOLD:50,MAX_QUEUE_SIZE:20000,RETRY_BACKOFF_MULTIPLIER:1.2},z=0,Y=new M(Bun.env
backend-02      | 
backend-02      | SyntaxError: Failed to parse JSON
backend-02      |       at getPaymentsByRange (/$bunfs/root/app-binary:2:748)
backend-02      | 
[Kload-balance-1 exited with code 2
backend-02      | Shutting down gracefully...
backend-01      | Shutting down gracefully...
backend-02      | Shutdown complete
backend-01      | Shutdown complete
[Kbackend-01 exited with code 0
[Kbackend-02 exited with code 0
log truncated at line 1000
